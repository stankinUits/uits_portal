<app-create-button (create)="redirectToAdminPanel()"></app-create-button>
<div *ngIf="isLoading" class="loading-container">
  –ó–∞–≥—Ä—É–∑–∫–∞...
</div>

<div *ngIf="errorMessage" class="error-container">
  <p>–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.</p>
</div>

<div class="container">
  <header class="header">
    <span class="header__trophy-icon">üèÜ</span>
    <h1 class="header__heading">–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∫–∞—Ñ–µ–¥—Ä—ã</h1>
    <p class="header__decs">–ù–∞—à–∏ —É—Å–ø–µ—Ö–∏ –∏ –ø—Ä–∏–∑–Ω–∞–Ω–∏–µ –≤ –Ω–∞—É—á–Ω–æ–º —Å–æ–æ–±—â–µ—Å—Ç–≤–µ</p>
  </header>

  <div class="stats-bar">
    <div class="stat-card floating">
      <div class="stat-number">142</div>
      <div class="stat-label">–ù–∞—É—á–Ω—ã—Ö –ø—É–±–ª–∏–∫–∞—Ü–∏–π</div>
    </div>
    <div class="stat-card floating">
      <div class="stat-number">28</div>
      <div class="stat-label">–ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã—Ö –Ω–∞–≥—Ä–∞–¥</div>
    </div>
    <div class="stat-card floating">
      <div class="stat-number">15</div>
      <div class="stat-label">–ü–∞—Ç–µ–Ω—Ç–æ–≤</div>
    </div>
    <div class="stat-card floating">
      <div class="stat-number">95%</div>
      <div class="stat-label">–¢—Ä—É–¥–æ—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤—ã–ø—É—Å–∫–Ω–∏–∫–æ–≤</div>
    </div>
  </div>

  <div *ngIf="response$ | async as response" class="achievements-grid">
    <div
      *ngFor="let achievement of response.results; let i = index"
      class="achievement-card"
      (click)="openAchievementById(achievement)"
    >
      <div
        class="achievement-header"
        [style.background]="gradients[i % gradients.length]"
      >
        <div class="header__wrapper">
          <img [src]="achievement.image" class="achievement-image"/>
          <h3 class="achievement-title">
            {{ achievement.title }}
          </h3>
        </div>
        <div class="achievement-details" *ngIf="achievement.teacher">
          <span class="detail-tag">–ß–µ–∫–∞–Ω–∏–Ω –í.–ê.</span>
        </div>
      </div>
      <div class="achievement-content">
        <p class="achievement-description">
          {{ achievement.description }}
        </p>
      </div>
      <app-edit-button
        class="edit-btn"
        (edit)="redirectToEditPage(achievement.id)"
        (click)="$event.stopPropagation()"
      >
      </app-edit-button>
    </div>
    <div *ngIf="response.count > itemsPerPage" class="pagination">
      <app-pagination
        [totalItems]="response.count"
        (pageChange)="pageChanged()"
        [itemsPerPage]="itemsPerPage"
        [maxSize]="maxSize"
      ></app-pagination>
    </div>
  </div>
</div>


